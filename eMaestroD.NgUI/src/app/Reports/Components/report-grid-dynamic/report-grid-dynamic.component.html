
<div class="container">
    <div class="card">
      <!-- <div class="row">
         <div class="col-6">
             <h4 style="border-left: 3px solid #3B82F6;">&nbsp;{{heading}}</h4>
        </div>
         <div class="col-6" style="text-align:right !important;"  && row != 1">
          <p-button icon="pi pi-fw pi-cog" styleClass="p-button p-button-sm p-button-secondary" (click)="setting.toggle($event)"></p-button>
        </div>
      </div> -->
        <div class="table-header row" style="margin-top: 8px;margin-bottom: 8px;">
  
            <span *ngIf="row == 1" style="color:var(--red-600)" translate>Not Record Found!</span>
            <div class="col-md-6">
              <span class="p-input-icon-left ml-auto" *ngIf="AllowGlobalFilter && row != 1">
                <i class="pi pi-search"></i>
                <input  pInputText type="text" (input)="applyFilterGlobal($event, 'contains',table)" [placeholder]="'Search keyword'|translate" />
              </span>
            </div>
  
            <div class="col-md-6" style="text-align:right !important;">
              <span class="p-buttonset" *ngIf="AllowPrintButtons && row != 1">
                <p-button (click)="confirmDailog()" icon="pi pi-send" styleClass="p-button p-button-sm p-button-secondary" *ngIf="AllowSendMail" [style]="{'margin-right': '8px', 'border-radius':'0.25rem'}" title="Send Mail"></p-button>
                <p-button (click)="op.toggle($event)" icon="pi pi-angle-down" styleClass="p-button p-button-sm p-button-info" [style]="{'margin-right': '8px' , 'border-radius':'0.25rem' }" title="Show/Hide Columns"></p-button>
                <p-button icon="pi pi-file-excel" styleClass="p-button p-button-sm p-button-success" (onClick)="dt.exportCSV();" [style]="{'margin-right': '8px' , 'border-radius':'0.25rem'}" title="Export Excel"></p-button>
                <p-button icon="pi pi-file-pdf" styleClass="p-button p-button-sm p-button-danger" (onClick)="exportPdf()" [style]="{'margin-right': '8px' , 'border-radius':'0.25rem'}" title="Export PDF"></p-button>
                <p-button icon="pi pi-fw pi-cog" styleClass="p-button p-button-sm p-button-secondary" (click)="reportSettingVisiblity=true" *ngIf="AllowHeaderSetting" [style]="{'margin-right': '8px' , 'border-radius':'0.25rem'}" title="Header Footer Setting"></p-button>
              </span>
            </div>
          </div>
          <p-table #dt [columns]="selectedColumns" selectionMode="single"
          [value]="data" styleClass="p-datatable-striped"
          [scrollable]="true" scrollHeight="420px" scrollDirection="vertical">
            <!-- Table Header -->
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th *ngIf="columns?.length > 0">Customer Name</th>
                <th *ngFor="let col of columns">{{ col }}</th> 
                <!-- <th>Total</th> -->
              </tr>
            </ng-template>
          
            <!-- Table Body -->
            <ng-template pTemplate="body" let-rowData let-columns="columns">
              <tr *ngIf="rowData.customerName!='' ">
                <td>{{ rowData.customerName }}</td>
                <td *ngFor="let col of columns">
                  {{ rowData.MonthWiseSales[col] || 0 }}
                </td>
                <!-- <td>{{ rowData.TotalSales }}</td> -->
              </tr>
            </ng-template>
            <!-- <ng-template *ngIf="AllowTotal" let-rowData pTemplate="footer" let-columns>
                <tr>
                  <td *ngFor="let col of columns; let i = index">
                    <ng-container *ngIf="i === 0">
                      <b>Total</b>
                    </ng-container>
                    <ng-container  *ngIf="i!=0">
                       {{ getColumnSum(rowData.MonthWiseSales[col] || 0) | number : '1.2-2' }}
                    </ng-container>
                  </td>
                </tr>
              </ng-template> -->
          </p-table>
          
  </div>
  </div>
  
  <p-overlayPanel #op [style]="{'width': '450px'}">
    <ng-template pTemplate="content">
      <div class="row">
        <div *ngFor="let colName of cols"  class="field-checkbox" class="col-6" style="margin-bottom: 10px;">
          <p-checkbox name="group" [value]="colName"  [(ngModel)]="selectedColumns" label="{{colName.header | translate}}"></p-checkbox>
        </div>
      </div>
    </ng-template>
  </p-overlayPanel>
  
  <p-overlayPanel #setting>
    <ng-template pTemplate="content">
      <button type="button" class="btn btn-primary btn-sm" (click)="reportSettingVisiblity=true" translate>Report Setting</button>
    </ng-template>
  </p-overlayPanel>
  
  <p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
  
  <p-dialog #cstDailog [modal]="true" [(visible)]="reportSettingVisiblity" [style]="{width: '40vw'}">
    <app-report-setting (dataEvent)="handleChildData($event)"></app-report-setting>
  </p-dialog>
  